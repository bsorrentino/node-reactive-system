var{Module:e}=require("@soulsoftware/rxbus-trace"),{Module:s,Subjects:r}=require("@soulsoftware/rxbus-timer"),{Module:o,Subjects:t}=require("@soulsoftware/rxbus-fastify"),{Bus:u}=require("@soulsoftware/rxbus");!function(){console.log("start"),u.modules.register(e),u.modules.register(s),u.modules.register(o,{port:8888,requestTimeout:1e4});for(let e of u.modules.names)console.log(`"${e}"`,"registerd");!function(){const e="ws.main";u.channels.request(o.name).request({topic:t.WSAdd,data:e}).subscribe({next:e=>console.log(`next: ${t.WSAdd}`),error:e=>console.error(`error: ${t.WSAdd}`,e),complete:()=>u.channels.channel(s.name).observe(r.Tick).subscribe((s=>u.channels.channel(e).subject(t.WSMessage).next(s)))})}(),u.modules.start()}();