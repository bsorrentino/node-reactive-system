var{Module:e}=require("@soulsoftware/rxbus-trace"),{Module:r,Subjects:s}=require("@soulsoftware/rxbus-timer"),{Module:o,Subjects:t}=require("@soulsoftware/rxbus-fastify"),{Bus:u}=require("@soulsoftware/rxbus");!function(){console.log("start"),u.modules.register(e),u.modules.register(r),u.modules.register(o,{port:8888,requestTimeout:1e4});for(let e of u.modules.names)console.log(`"${e}"`,"registerd");!function(){const e="ws.main";u.replyChannel(o.name).request({topic:t.WSAdd,data:e}).subscribe({next:e=>console.log(`next: ${t.WSAdd}`),error:e=>console.error(`error: ${t.WSAdd}`,e),complete:()=>u.channel(r.name).observe(s.Tick).subscribe((r=>u.channel(e).subject(t.WSMessage).next(r)))})}(),u.modules.start()}();