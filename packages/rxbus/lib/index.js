var e,s=require("rxjs").Subject,t=(e=require("assert"))&&e.__esModule?e.default:e;class a{_channels=new Map;newChannel(e){t.ok(!this._channels.has(e),`Channel ${e} already exists!`);let a=new s;return this._channels.set(e,a),a}channel(e){return t.ok(this._channels.has(e),`Channel ${e} doesn't exists!`),this._channels.get(e).asObservable()}get channelNames(){return this._channels.keys()}}class n{_modules=new Map;registerModule(e){t.ok(!this._modules.has(e.name),`Module ${e.name} already exists!`);let s={module:e,status:{started:!1,paused:!1}};this._modules.set(e.name,s),e.onRegister&&e.onRegister()}start(){this._modules.forEach((e=>{e.status.started||(e.module.onStart&&e.module.onStart(),e.status.started=!0)}))}}const l=new class{channels=new a;modules=new n};exports.Bus=l;